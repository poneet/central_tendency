<!DOCTYPE html>
<html lang="en">

<head>
  <title>Measures of Central Tendency - Mean, Median and Mode</title>
  <style>
    body {
      background-color: black;
      color: white;
      font-family: monospace;
    }
  </style>
  <script>
    //////////////////////////////////////////////////
    //
    // Measures of Central Tendency:
    // MEAN, MEDIAN, and MODE for Larger Data Sets
    //
    //////////////////////////////////////////////////
    //
    // Poneet Rahul
    // Seneca College Student
    // Year 1 Biotechnology Advanced (BTA)
    // CHM173-SFFL (Chemistry Lab)
    // Friday September 14-15, 2018
    //
    //////////////////////////////////////////////////
    //
    // PLEASE NOTE
    // (1 of 2)
    // Regarding: JavaScript
    //
    // JavaScript being a scripting language
    // is not compiled.
    //
    // JavaScript being a language of the web
    // is visible to anyone (open source).
    //
    // Anyone is free to copy, use or modify
    // this code for any purpose.
    //
    //////////////////////////////////////////////////
    //
    // PLEASE NOTE
    // (2 of 2)
    // Regarding: Trailing 0's when outputting numbers
    //
    // For some reason JavaScript omits trailing 0's.
    // This is annoying for science students.
    // Function d (defined below) is used throughout
    // to maintain trailing 0's.
    // 
    // Set your output precision (# of decimal places)
    // by using the variable "p" in the DATA section.
    // 
    //////////////////////////////////////////////////
    //
    // Hopefully this helps you find things...
    //
    // I.    FUNCTIONS
    // II.   DATA
    // III.  RAW DATA OUTPUT
    // IV.   RANGE
    // V.    MEAN
    // VI.   SORTING
    // VII.  SORTED ARRAY OUTPUT
    // VIII. FREQUENCY (for MODE)
    // IX.   MEDIAN
    // X.    STAND BACK...
    //
    //////////////////////////////////////////////////
    //////////////////////////////////////////////////
    // I.    FUNCTIONS
    //////////////////////////////////////////////////
    function insertSpace(n) {
      // helps with separating/spacing data output
      for (i = 0; i <= n; i++) {
        document.write("<br />");
      }
    }

    function d(x, y) {
      // "d is for decimals"
      // returns the number "x" to "y" decimal places
      // this function rounds
      // so only use it to maintain trailing 0's
      // used throughout to format output of numbers
      // src: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed
      return Number.parseFloat(x).toFixed(y);
    }

    //////////////////////////////////////////////////
    // II.   DATA
    //////////////////////////////////////////////////
    // Prep. Data
    // 1) The data was provided by my lab instructor in a spreadsheet.
    // 2) Copied the numerical values to a blank unformatted text file (.txt).
    // 3) Used "search & replace" to replace spaces between values with "," separator.
    // 4) Copied and pasted them into this array.
    var data = [0.92, 0.77, 0.79, 0.76, 0.78,
      0.88, 0.87, 0.72, 0.73, 0.69,
      0.52, 0.77, 0.86, 0.85, 0.73,
      0.67, 0.82, 0.66, 0.72, 0.79,
      0.85, 0.89, 0.84, 0.65, 0.67,
      0.82, 0.87, 0.89, 0.80, 0.85,
      0.91, 0.84, 0.76, 0.77, 0.64,
      0.90, 0.83, 0.84, 0.81, 0.70,
      0.73, 0.68, 0.76, 0.78, 0.76,
      0.85, 0.89, 0.84, 0.65, 0.67,
      0.81, 0.91, 0.83, 0.79, 0.70,
      1.60, 1.63, 0.76, 0.89, 0.73
    ];

    // output precision of data (# of decimal places)
    // this can round your data, so be mindful of this
    // e.g. p = 0 outputs values rounded to nearest whole number
    //
    // ! NOT USED IN CALCULATIONS OR COMPARISONS, ONLY FOR FORMATTING OUTPUT
    // ! THIS MEANS IT HAS BEEN USED IN ALL document.write() CALLS
    // ! A.K.A. EVERYTHING ON SCREEN
    // ! (EXCEPT SUM + MEAN + EVEN NUMBERED SET MEDIAN OUTPUT,
    // !  WHICH WERE GENERATED BY CALCULATIONS)
    var p = 2;

    // Hint:
    // If you want to output a value from the array
    // "data", with "p" decimal places use:
    //
    // d(data[index], p);
    //
    // Or more generally:
    //
    // d(number, p);
    //
    // You will see this below.


    //////////////////////////////////////////////////
    // III.  RAW DATA OUTPUT
    //////////////////////////////////////////////////
    // output raw data
    // ("," separated)
    document.write("# of Values: " + data.length + "<br />");
    document.write("Raw Data:<br />");
    for (i = 0; i < data.length; i++) {
      document.write(d(data[i], p) + ", ");
    }
    document.write("(end of set)");


    insertSpace(3);


    //////////////////////////////////////////////////
    // IV.   RANGE
    //////////////////////////////////////////////////
    // max
    var max = 0.00;
    for (i = 0; i < data.length; i++) {
      if (data[i] > max) {
        max = data[i];
      }
    }
    document.write("Range MAX: " + d(max, p));

    insertSpace(1);

    // min
    var min = max;
    for (i = 0; i < data.length; i++) {
      if (data[i] < min) {
        min = data[i];
      }
    }
    document.write("Range MIN: " + d(min, p));


    insertSpace(3);


    //////////////////////////////////////////////////
    // V.    MEAN
    //////////////////////////////////////////////////
    // I. sum
    var mean = 0.00;
    for (i = 0; i < data.length; i++) {
      mean += data[i];
    }
    document.write("Data SUM: " + mean);

    insertSpace(1);

    // II. mean
    mean /= data.length;
    document.write("Data MEAN: " + mean);


    insertSpace(3);


    //////////////////////////////////////////////////
    // VI.   SORTING
    //////////////////////////////////////////////////
    // src/credit for solving this problem elegantly: https://alligator.io/js/array-sort-numbers/
    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort
    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions
    // sort using built in Array sort method
    data.sort((a, b) => a - b);


    //////////////////////////////////////////////////
    // VII.  SORTED ARRAY OUTPUT
    //////////////////////////////////////////////////
    // these outputs can be modified to your liking, they are nearly identical

    // output sorted data
    // ("+" separated)
    // there will be an extra "+" at the end, you can manually remove/omit it or add code
    document.write("Sorted Data (calculation output):<br />");
    for (i = 0; i < data.length; i++) {
      document.write(d(data[i], p) + " + ");
    }
    document.write("(end of set)");

    insertSpace(1);

    // output sorted data
    // ("," separated)
    document.write("Sorted Data (comma separated):<br />");
    for (i = 0; i < data.length; i++) {
      document.write(d(data[i], p) + ", ");
    }
    document.write("(end of set)");

    insertSpace(1);

    // output sorted data
    // (one value per line)
    document.write("Sorted Data (1 value per line):<br />");
    for (i = 0; i < data.length; i++) {
      document.write(d(data[i], p) + "<br />");
    }


    insertSpace(3);


    //////////////////////////////////////////////////
    // VIII. FREQUENCY (for MODE)
    //////////////////////////////////////////////////
    // you can modify the outputs to write to a new object or array
    // right now you have to visually comb through the output to pick out the mode

    // output sorted data
    // (keeping identical values on the same line)
    document.write("Frequency: ");
    for (i = 0; i < data.length; i++) {
      if (i > 0) {
        if (data[i] == data[i - 1]) {
          // same as previous value, write on the same line
          document.write(", " + d(data[i], p));
        } else {
          // different than previous value
          // output frequency count for previous value
          // start new line, output value and reset frequency count
          document.write("<br /> " + d(data[i], p));
        }
      } else {
        // i=0, special case for first value
        // you can move this condition to the top if you'd like, for neatness
        document.write("<br /> " + d(data[i], p));
      }
    }


    insertSpace(3);


    // output sorted data
    // (with frequency count added)
    // almost identical to the above output
    var f = 1;
    document.write("Frequency with magnitude (f): ");
    for (i = 0; i < data.length; i++) {
      if (i > 0) {
        if (data[i] == data[i - 1]) {
          // same as previous value, write on the same line and increase frequency
          document.write(", " + d(data[i], p));
          f += 1;
        } else {
          // different than previous value
          // output frequency count for previous value
          // start new line, output value and reset frequency count
          document.write("&nbsp;&nbsp;&nbsp;(f: " + f + ")<br /> " + d(data[i], p));
          f = 1;
        }
      } else {
        // i=0, special case for first value
        // you can move this condition to the top if you'd like, for neatness
        document.write("<br /> " + d(data[i], p));
      }
    }
    // output frequency for last/greatest value(s)
    document.write("&nbsp;&nbsp;&nbsp;(f: " + f + ")");


    insertSpace(3);


    //////////////////////////////////////////////////
    // IX.   MEDIAN
    //////////////////////////////////////////////////
    // output sorted set
    // (one value per line, each value is numbered i.e. #1:, #2:, #3 ...)
    for (i = 0; i < data.length; i++) {
      document.write("#" + (i + 1) + ": " + d(data[i], p) + "<br />");
    }

    insertSpace(1);

    // determine median
    var m = data.length % 2;
    var mid = data.length / 2;
    var median = 0.00;
    if (m == 0) {
      // even numbered set
      document.write("This is an even numbered set.<br />");
      document.write("Therefore the MEDIAN = mean of the two central values below.<br />");
      document.write("#" + mid + ": " + d(data[mid - 1], p) + "<br />");
      document.write("#" + (mid + 1) + ": " + d(data[(mid)], p) + "<br />");

      // median calculation (mean of central values)
      // because indexing starts at 0 (not 1), the central values are actually mid-1, and mid
      median = (data[mid - 1] + data[(mid)]) / 2;
      document.write("Data MEDIAN: " + median);
    } else {
      // odd numbered set
      document.write("This is an odd numbered set.<br />");
      document.write("Therefore the MEDIAN = central value below.<br />");
      // because indexing starts at 0 (not 1), the central value is actually mid-1
      document.write("#" + Math.round(mid) + ": " + d(data[Math.round(mid - 1)], p) + "<br />");
      document.write("Data MEDIAN: " + d(data[Math.round(mid - 1)], p));
    }


    insertSpace(3);


    //////////////////////////////////////////////////
    // X.    STAND BACK...
    //////////////////////////////////////////////////

    // You should use this warning in the Laboratory
    document.write("Stand back...I'm about to SCIENCE!");


    insertSpace(3);


  </script>
</head>

<body>


</body>

</html>
